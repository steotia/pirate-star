namespace SpriteKind {
    export const Bottle = SpriteKind.create()
    export const Treasure = SpriteKind.create()
    export const compass = SpriteKind.create()
}
function createbottle () {
    if (!(found_bottle)) {
        messageinabottle = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . e e . . . . . . . . 
            . . . . . 1 1 1 1 . . . . . . . 
            . . . . 1 1 9 9 1 1 . . . . . . 
            . . . . 1 9 d d 9 1 . . . . . . 
            . . . . 1 9 d d 9 1 . . . . . . 
            . . . . 1 9 d d 9 1 . . . . . . 
            . . . . 1 9 d d 9 1 . . . . . . 
            . . . . 1 9 d d 9 1 . . . . . . 
            . . . . 1 1 1 1 1 1 . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Bottle)
        tiles.placeOnRandomTile(messageinabottle, myTiles.tile1)
        while (Math.abs(THEplayer.y - messageinabottle.y) > 200 || Math.abs(THEplayer.x - messageinabottle.x) > 200) {
            tiles.placeOnRandomTile(messageinabottle, myTiles.tile1)
        }
    }
}
function clearsave () {
    blockSettings.clear()
    game.reset()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    clearsave()
})
function load_game () {
    THEplayer.setPosition(blockSettings.readNumber("playerx"), blockSettings.readNumber("playery"))
    found_bottle = blockSettings.readNumber("foundbottle") == 1
    if (found_bottle) {
        create_treasure()
        thetreasure.setPosition(blockSettings.readNumber("treasurex"), blockSettings.readNumber("treasurey"))
    }
}
function savegame () {
    blockSettings.writeNumber("playerx", THEplayer.x)
    blockSettings.writeNumber("playery", THEplayer.y)
    if (found_bottle) {
        blockSettings.writeNumber("foundbottle", 1)
        blockSettings.writeNumber("treasurex", thetreasure.x)
        blockSettings.writeNumber("treasurey", thetreasure.y)
    } else {
        blockSettings.writeNumber("foundbottle", 0)
    }
}
function create_treasure () {
    thetreasure = sprites.create(img`
        2 2 . . . . . . . . . . . . 2 2 
        2 2 2 . . . . . . . . . . 2 2 2 
        . 2 2 2 . . . . . . . . 2 2 2 . 
        . . 2 2 2 . . . . . . 2 2 2 . . 
        . . . 2 2 2 . . . . 2 2 2 . . . 
        . . . . 2 2 2 . . 2 2 2 . . . . 
        . . . . . 2 2 2 2 2 2 . . . . . 
        . . . . . . 2 2 2 2 . . . . . . 
        . . . . . . 2 2 2 2 . . . . . . 
        . . . . . 2 2 2 2 2 2 . . . . . 
        . . . . 2 2 2 . . 2 2 2 . . . . 
        . . . 2 2 2 . . . . 2 2 2 . . . 
        . . 2 2 2 . . . . . . 2 2 2 . . 
        . 2 2 2 . . . . . . . . 2 2 2 . 
        2 2 2 . . . . . . . . . . 2 2 2 
        2 2 . . . . . . . . . . . . 2 2 
        `, SpriteKind.Treasure)
    tiles.placeOnRandomTile(thetreasure, myTiles.tile2)
    thecompass.setImage(compass_images[0])
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Bottle, function (sprite, otherSprite) {
    found_bottle = true
    otherSprite.destroy()
    create_treasure()
})
let thetreasure: Sprite = null
let messageinabottle: Sprite = null
let found_bottle = false
let thecompass: Sprite = null
let THEplayer: Sprite = null
let compass_images: Image[] = []
tiles.setTilemap(tiles.createTilemap(hex`4000400001010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202010101010101010101010202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020101010101010101010202030201010202010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020201010101010101010102010101020102020201010101010101010101010101010101010101010101010101010101020202020201010101010101010202020202010101010101010102020102010101020102010101010101010101010101010101010101010101010101010101010202020202010101010101010101010101010101010101010101010202010101020101020101010101010101010101010101010101010101010101010101010102020202020101010101010101010101010101010101010101010102010101010102010202010101010101010101010101010101010101010101010101010101020202020201010101010101010101010101010101010101010101020101010201010201020101010101010101010201010101010101010101010101010101010202020202010101010101010101010101010101010101010101010202020101010101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020101020201020102010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102010102020101010101020101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101020201010101010101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010201020202020101010102010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102010101010102010101020101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020101010101020201010202010101010201010101010101010101010101010102020202020101010101010101010101010101010101010101010101020202020201010101010102020101010101010201010101010101010101010101010101020202020201010101010101010101010101010101010101010101010202020202010101010101010202020202020202010101010101010101010101010101010202020202010101010101010101010101010101010101010101010102020202020101010101010101010101010101010101010101010102010101010101010102020202020202010101010101010101010101010101010101010101020202020201010101010101010101010101010101010101010101010101010101010101020202020202020101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020101010101010101010101020202020202020101010101010101020202020201020201010101010101010101010101010101010101020202020202020202020201010101010101010101010202020202010101010101010101010202020202010202010101010101010101010101010101010101010202020202020202020202010101010101010101010101010101010101010101010101010202020202020102020101020202020202010101010101010101010102020202020202020202020101010101010101010101010101010101010101010101010102020202020201020201020202020202020201010101010101010101020202020202020202020201010101010101010202020201010101010101010101010101020202020202010101010202020202020202020101010101010101010202020202020202020202010101010101010102020202010101010101010101010101010202020202020102020102020101020202020201010101010101010102020202020202020202020101010101010101020202020101010101010101010101010102020202020101020201020202010102020202010101010101010101020202020202020202020201010101010101010202020201010101010101010101010101010101010101010202010202020201020202020101010101010101010202020202020202020202010101010101010101010101010101010101010202020202010202020202010102020101020202010202020201010101010101010102020202020202020202020101010101010101010101010101010101010102020202020102020202020101010101010202020102020201010101010101010101020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020201010101010202020201020202020202010101010202020202010202020202010101010101010101010101010101010101010101010202020202010102010202010101010102020202010202020202020101010102020202020102020202020101010101010101010101010101010101010101010102020202020101020202020101010101010101010101010101010101010101020202020201020202020201010101010101010101010101010101010101010101020202020201010101010101010101010202020202010202020202010101010202020101010202020202010101010101010101010101010101010101010101010202010101010101010101010101010102020202020102020202020101010101010101010101020202010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010202020101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020201010101010101010101010101020201010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020202020101010101010101010101010101010101010101010101010102020202020101010101010101010101010101010101010102020202020202020202020202020202020202020202020201010101010101010101010101010101020202020201010101010101010101010101010101010101020202020202020202020202020202020202020202020202020202020101010101010101010101010202020202010101010101010101010101010101010101010202020202020202020202020202020202020202020202020202020201010101010101010101010102020202020101010101010101010101010101010101010102020202020202020202020202020202020202020202020202020202010101010101010101010101020202020201010101010101010202020202010101010101020202020202020202020202020202020202020202020202020202020201010101010101010101010101010101010101010101010102020202020101010101010202020202020202020202020202020202020202020202020202020202010101010101010101010101010101010101010101010101020202020201010101010102020202020202020202020202020202020202020202020202020202020101010101010101010101010101010101010101010101010202020202010101010101020202020202020202020202020202020202020202020202020202020201010101010101010101010101010101010101010101010102020202020101010101010202020202020202020202020202020202020202020202020202020202010101010101010101010101010101010101010101010101020202020201010101010102020202020202020202020202020202020202020202020202020202020101010101010101010101010101010101010101010101010202020202010101010101010101010102020202020202020202020202020202020202020202020201010101010101010101010101010101010101010101010102020202020101010101010101010101020202020202020202020202020202020202020202020202010101010102020202020101010101010101010101010101020202020202010101010101010101010202020202020202020202020202020202020202020202010101010101020202020202020201010101010101010101010202020202020101010101010101010102020202020202020202020202020202020202020202020101010101010202020202020202010101010101010101010102020202020202010101010101010101020202020202020202020202020202020202020202020101010101010102020202020202020101010101010101010101020202020202020101010101010101010101010202020202020202020202020202020202010101010101010101020202020202020201010101010101010101010102020202020202010101010101010102020202020202020202020202020202020201010101010101010101010202020202020202010101010101010101010101020202020202020101010102020202020202020202020202020201010101010101010101010101010101010102020202020202020101010101010101010101010102020202020202020202020202020202020202020202020202010101010101010101010101010101010101020202020202020201010101010101010101010101020202020202020202020202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010102020202020202020202020202020202020202020201010101010101010101010101010101010101010101010101010101010101010101010101010101010101020202020202020202020202020202020202010101010101010101010101010101010101010101`, img`
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    `, [myTiles.transparency16,myTiles.tile1,myTiles.tile2,myTiles.tile4], TileScale.Sixteen))
compass_images = [
img`
    . . . . e e e e e e e . . . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . e 1 1 1 1 f 1 1 1 1 e . . . 
    . e 1 1 8 1 1 f 1 1 8 1 1 e . . 
    . e 1 1 1 8 1 f 1 8 1 1 1 e . . 
    . e 1 1 1 1 1 f 1 1 1 1 1 e . . 
    . e 1 8 8 1 1 5 1 1 8 8 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 8 1 1 8 1 1 8 1 1 e . . 
    . . e 1 1 1 1 8 1 1 1 1 e . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . . . e e e e e e e . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . e e e e e e e . . . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . e 1 1 1 1 2 1 1 1 1 e . . . 
    . e 1 1 8 1 1 2 1 1 f 1 1 e . . 
    . e 1 1 1 8 1 1 1 f 1 1 1 e . . 
    . e 1 1 1 1 1 1 f 1 1 1 1 e . . 
    . e 1 8 8 1 1 5 1 1 8 8 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 8 1 1 8 1 1 8 1 1 e . . 
    . . e 1 1 1 1 8 1 1 1 1 e . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . . . e e e e e e e . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . e e e e e e e . . . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . e 1 1 1 1 2 1 1 1 1 e . . . 
    . e 1 1 8 1 1 2 1 1 8 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 8 8 1 1 5 f f f f 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 8 1 1 8 1 1 8 1 1 e . . 
    . . e 1 1 1 1 8 1 1 1 1 e . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . . . e e e e e e e . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . e e e e e e e . . . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . e 1 1 1 1 2 1 1 1 1 e . . . 
    . e 1 1 8 1 1 2 1 1 8 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 8 8 1 1 5 1 1 8 8 1 e . . 
    . e 1 1 1 1 1 1 f 1 1 1 1 e . . 
    . e 1 1 1 8 1 1 1 f 1 1 1 e . . 
    . e 1 1 8 1 1 8 1 1 f 1 1 e . . 
    . . e 1 1 1 1 8 1 1 1 1 e . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . . . e e e e e e e . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . e e e e e e e . . . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . e 1 1 1 1 2 1 1 1 1 e . . . 
    . e 1 1 8 1 1 2 1 1 8 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 8 8 1 1 5 1 1 8 8 1 e . . 
    . e 1 1 1 1 1 f 1 1 1 1 1 e . . 
    . e 1 1 1 8 1 f 1 8 1 1 1 e . . 
    . e 1 1 8 1 1 f 1 1 8 1 1 e . . 
    . . e 1 1 1 1 f 1 1 1 1 e . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . . . e e e e e e e . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . e e e e e e e . . . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . e 1 1 1 1 2 1 1 1 1 e . . . 
    . e 1 1 8 1 1 2 1 1 8 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 8 8 1 1 5 1 1 8 8 1 e . . 
    . e 1 1 1 1 f 1 1 1 1 1 1 e . . 
    . e 1 1 1 f 1 1 1 8 1 1 1 e . . 
    . e 1 1 f 1 1 8 1 1 8 1 1 e . . 
    . . e 1 1 1 1 8 1 1 1 1 e . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . . . e e e e e e e . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . e e e e e e e . . . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . e 1 1 1 1 2 1 1 1 1 e . . . 
    . e 1 1 8 1 1 2 1 1 8 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 f f f f 5 1 1 8 8 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 8 1 1 8 1 1 8 1 1 e . . 
    . . e 1 1 1 1 8 1 1 1 1 e . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . . . e e e e e e e . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `,
img`
    . . . . e e e e e e e . . . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . e 1 1 1 1 2 1 1 1 1 e . . . 
    . e 1 1 f 1 1 2 1 1 8 1 1 e . . 
    . e 1 1 1 f 1 1 1 8 1 1 1 e . . 
    . e 1 1 1 1 f 1 1 1 1 1 1 e . . 
    . e 1 8 8 1 1 5 1 1 8 8 1 e . . 
    . e 1 1 1 1 1 1 1 1 1 1 1 e . . 
    . e 1 1 1 8 1 1 1 8 1 1 1 e . . 
    . e 1 1 8 1 1 8 1 1 8 1 1 e . . 
    . . e 1 1 1 1 8 1 1 1 1 e . . . 
    . . . e 1 1 1 1 1 1 1 e . . . . 
    . . . . e e e e e e e . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `
]
THEplayer = sprites.create(img`
    . . . . . . . e e e . . . . . . 
    . . . . . 1 1 1 e 1 1 1 1 . . . 
    . . . . . 1 1 1 e f f 1 1 . . . 
    . . . . . 1 1 1 e f f 1 1 . . . 
    . . . . . 1 1 1 1 1 1 1 1 . . . 
    . . . . . 1 1 1 1 1 1 1 1 . . . 
    . . . . . 1 1 1 1 1 1 1 1 . . b 
    . . . . . . . . e . . . . . . b 
    b b . . . . . . e . . . . b b b 
    e e e e e e e e e e e e e e e . 
    e e e e e e e e e e e e e e e . 
    b b b b b b b b b b b b b b b . 
    . e e e e e e e e e e e e e . . 
    . b b b b b b b b b b b b b . . 
    . . e e e e e e e e e e e . . . 
    . . . . 1 1 1 1 1 1 1 . . . . . 
    `, SpriteKind.Player)
thecompass = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.compass)
thecompass.setFlag(SpriteFlag.RelativeToCamera, true)
thecompass.setPosition(150, 110)
controller.moveSprite(THEplayer)
scene.cameraFollowSprite(THEplayer)
found_bottle = false
load_game()
createbottle()
game.onUpdate(function () {
    if (THEplayer.tileKindAt(TileDirection.Center, myTiles.tile1)) {
        THEplayer.setImage(img`
            . . . . . . . e e e . . . . . . 
            . . . . . 1 1 1 e 1 1 1 1 . . . 
            . . . . . 1 1 1 e f f 1 1 . . . 
            . . . . . 1 1 1 e f f 1 1 . . . 
            . . . . . 1 1 1 1 1 1 1 1 . . . 
            . . . . . 1 1 1 1 1 1 1 1 . . . 
            . . . . . 1 1 1 1 1 1 1 1 . . b 
            . . . . . . . . e . . . . . . b 
            b b . . . . . . e . . . . b b b 
            e e e e e e e e e e e e e e e . 
            e e e e e e e e e e e e e e e . 
            b b b b b b b b b b b b b b b . 
            . e e e e e e e e e e e e e . . 
            . b b b b b b b b b b b b b . . 
            . . e e e e e e e e e e e . . . 
            . . . . 1 1 1 1 1 1 1 . . . . . 
            `)
    } else {
        THEplayer.setImage(img`
            . . . . . . f f f f f . . . . . 
            . . . . . f f 1 1 1 f f . . . . 
            . . . . . f 1 f 1 f 1 f . . . . 
            . . . . . f 1 1 1 1 1 f . . . . 
            . . . . . f f 1 f 1 f f . . . . 
            . . 5 5 . f f f f f f f . 5 5 . 
            . . f 5 5 f f f f f f f 5 5 f . 
            . . f f f f f f f f f f f f f . 
            . . . . . b b 1 b 1 b b . . . . 
            . . . . 2 b b b b b b b . . . . 
            . . . . 7 . b b b b b . . . . . 
            . . . . 2 2 2 2 2 2 2 2 2 . . . 
            . . . 4 . 4 4 4 4 4 4 4 . 4 . . 
            . . . 2 . 2 2 2 2 2 2 2 . 2 . . 
            . . . 5 . 4 4 4 4 4 4 4 . b . . 
            . . . . . 8 8 8 8 8 8 8 . . . . 
            . . . . . . 8 . . . e . . . . . 
            `)
    }
})
game.onUpdateInterval(1000, function () {
    savegame()
})
